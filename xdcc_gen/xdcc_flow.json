{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://example.com/gaps-closure-xdcc/xdcc_flow.json",
    
    "components":{
        "MPU": "ORANGE",
        "EOIR": "ORANGE",
        "ISRM": "ORANGE",
        "MPX": "ORANGE",
        "RDR": "PURPLE"
    },
    "messages":{
        "component_heartbeats_ORANGE": {
            "name": "component_heartbeats",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "MPU",
                    "destination": "EOIR"
                },
                {
                    "source": "MPU",
                    "destination": "ISRM"
                },
                {
                    "source": "MPU",
                    "destination": "MPX"
                },
                {
                    "source": "MPU",
                    "destination": "RDR"
                },
                
                {
                    "source": "ISRM",
                    "destination": "MPU"
                },
                {
                    "source": "ISRM",
                    "destination": "EOIR"
                },
                {
                    "source": "ISRM",
                    "destination": "MPX"
                },
                {
                    "source": "ISRM",
                    "destination": "RDR"
                },
                
                {
                    "source": "MPX",
                    "destination": "MPU"
                },
                {
                    "source": "MPX",
                    "destination": "EOIR"
                },
                {
                    "source": "MPX",
                    "destination": "ISRM"
                },
                {
                    "source": "MPX",
                    "destination": "RDR"
                }
            ],
            "schema": "schema/component_heartbeats.schema",
            "cle": "COMPONENT_HEARTBEATS_ORANGE"
        },
        "component_heartbeats_PURPLE": {
            "name": "component_heartbeats",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "RDR",
                    "destination": "MPU"
                },
                {
                    "source": "RDR",
                    "destination": "EOIR"
                },
                {
                    "source": "RDR",
                    "destination": "ISRM"
                },
                {
                    "source": "RDR",
                    "destination": "MPX"
                }
            ],
            "schema": "schema/component_heartbeats.schema",
            "cle": "COMPONENT_HEARTBEATS_PURPLE",
            "topic": true
        },
        "pnt_ORANGE": {
            "name": "pnt",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "MPX",
                    "destination": "EOIR"
                },
                {
                    "source": "MPX",
                    "destination": "ISRM"
                },
                {
                    "source": "MPX",
                    "destination": "MPU"
                },
                {
                    "source": "MPX",
                    "destination": "RDR"
                }
            ],
            "schema": "schema/pnt.schema",
            "cle": "PNT_ORANGE"
        },
        "pnt_PURPLE": {
            "name": "pnt",
            "comment": "optional comment",
            "flows": [
            ],
            "schema": "schema/pnt.schema",
            "cle": "PNT_PURPLE"
        },
        "requestISRMDetections_ORANGE": {
            "name": "requestISRMDetections",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "MPX",
                    "destination": "ISRM"
                }
            ],
            "schema": "schema/requestISRMDetections.schema",
            "cle": "REQUESTISRMDETECTION_ORANGE"
        },
        "requestISRMDetections_PURPLE": {
            "name": "requestISRMDetections",
            "comment": "optional comment",
            "flows": [
            ],
            "schema": "schema/requestISRMDetections.schema",
            "cle": "REQUESTISRMDETECTION_PURPLE"
        },
        "groundMovers_ORANGE": {
            "name": "groundMovers",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "ISRM",
                    "destination": "EOIR"
                }
            ],
            "schema": "schema/groundMovers.schema",
            "cle": "GROUNDMOVERS_ORANGE"
        },
        "groundMovers_PURPLE": {
            "name": "groundMovers",
            "comment": "optional comment",
            "flows": [
            ],
            "schema": "schema/groundMovers.schema",
            "cle": "GROUNDMOVERS_PURPLE"
        },
        "recieveISRMDetections_ORANGE": {
            "name": "recieveISRMDetections",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "ISRM",
                    "destination": "MPX"
                }
            ],
            "schema": "schema/recieveISRMDetections.schema",
            "cle": "RECEIVEISRMDECTION_ORANGE"
        },
        "recieveISRMDetections_PURPLE": {
            "name": "recieveISRMDetections",
            "comment": "optional comment",
            "flows": [
            ],
            "schema": "schema/recieveISRMDetections.schema",
            "cle": "RECEIVEISRMDECTION_PURPLE"
        },
        "updateMissionPlan_ORANGE": {
            "name": "updateMissionPlan",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "MPU",
                    "destination": "EOIR"
                },
                {
                    "source": "MPU",
                    "destination": "ISRM"
                },
                {
                    "source": "MPU",
                    "destination": "MPX"
                },
                {
                    "source": "MPU",
                    "destination": "RDR"
                }
            ],
            "schema": "schema/updateMissionPlan.schema",
            "cle": "UPDATEMISSIONPLAN_ORANGE"
        },
        "updateMissionPlan_PURPLE": {
            "name": "updateMissionPlan",
            "comment": "optional comment",
            "flows": [
            ],
            "schema": "schema/updateMissionPlan.schema",
            "cle": "UPDATEMISSIONPLAN_PURPLE"
        }          
    },
    "schemas":{
        "schema_heartbeats":{
            "$schema": "http://json-schema.org/draft-07/schema#"
        },
        "schema_missionPlan":{
            "$schema": "http://json-schema.org/draft-07/schema#"
        }
    },
    "samples":{
        "schema_heartbeats":{
            "ss": "MPU",
            "st": "ready"
        },
        "schema_missionPlan":{
        }
    },
    "cles":{
        "COMPONENT_HEARTBEATS_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "purple",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "COMPONENT_HEARTBEATS_PURPLE":{
            "level": "purple",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "ingress",
                    "guarddirective":{ "oneway": true, "operation": "allow"},
                    "argtaints": [["TAG_REQUEST_ECHO_COMPONENT_HEARTBEATS"]],
                    "codtaints": ["PURPLE"],
                    "rettaints": []
                }
            ]
        },
        "PNT_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "purple",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "PNT_PURPLE":{
            "level": "purple",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "REQUESTISRMDETECTION_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "purple",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "REQUESTISRMDETECTION_PURPLE":{
            "level": "purple",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "GROUNDMOVERS_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "purple",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "GROUNDMOVERS_PURPLE":{
            "level": "purple",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "RECEIVEISRMDECTION_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "purple",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "RECEIVEISRMDECTION_PURPLE":{
            "level": "purple",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "UPDATEMISSIONPLAN_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "purple",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "UPDATEMISSIONPLAN_PURPLE":{
            "level": "purple",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        }
    }
}
