{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://example.com/gaps-closure-xdcc/xdcc_flow.json",
    
    "components":{
        "MPU": "ORANGE_MPU",
        "EOIR": "ORANGE_EOIR",
        "ISRM": "GREEN_ISRM",
        "MPX": "ORANGE_MPX",
        "RDR": "ORANGE_RDR"
    },
    "messages":{
        "component_heartbeats_ORANGE": {
            "name": "component_heartbeats",
            "schema": "schema_heartbeats",
            "cle": "COMPONENT_HEARTBEATS_ORANGE",
            "comment": "optional comment",
            "flows": [
                {
                    "id": 1003,
                    "source": "MPU",
                    "destination": "EOIR"
                },
                {
                    "id": 1002,
                    "source": "MPU",
                    "destination": "ISRM"
                },
                {
                    "id": 1001,
                    "source": "MPU",
                    "destination": "MPX"
                },
                {
                    "id": 1004,
                    "source": "MPU",
                    "destination": "RDR"
                },
            
                {
                    "source": "RDR",
                    "destination": "MPU"
                },
                {
                    "source": "RDR",
                    "destination": "EOIR"
                },
                {
                    "source": "RDR",
                    "destination": "ISRM"
                },
                {
                    "source": "RDR",
                    "destination": "MPX"
                },
                
                {
                    "source": "MPX",
                    "destination": "MPU"
                },
                {
                    "source": "MPX",
                    "destination": "EOIR"
                },
                {
                    "source": "MPX",
                    "destination": "ISRM"
                },
                {
                    "source": "MPX",
                    "destination": "RDR"
                }
            ]
        },
        "component_heartbeats_GREEN": {
            "name": "component_heartbeats",
            "schema": "schema_heartbeat",
            "cle": "COMPONENT_HEARTBEATS_GREEN",
            "topic": true,
            "comment": "optional comment",
            "flows": [
                {
                    "source": "ISRM",
                    "destination": "MPU"
                },
                {
                    "source": "ISRM",
                    "destination": "EOIR"
                },
                {
                    "source": "ISRM",
                    "destination": "MPX"
                },
                {
                    "source": "ISRM",
                    "destination": "RDR"
                }
            ]
        },
        "pnt_ORANGE": {
            "name": "pnt",
            "comment": "optional comment",
            "schema": "schema_pnt",
            "cle": "PNT_ORANGE",
            "flows": [
                {
                    "id": 2003,
                    "source": "MPX",
                    "destination": "EOIR"
                },
                {
                    "id": 2002,
                    "source": "MPX",
                    "destination": "ISRM"
                },
                {
                    "id": 2001,
                    "source": "MPX",
                    "destination": "MPU"
                },
                {
                    "id": 2004,
                    "source": "MPX",
                    "destination": "RDR"
                }
            ]
        },
        "pnt_GREEN": {
            "name": "pnt",
            "schema": "schema_pnt",
            "cle": "PNT_GREEN",
            "comment": "No PNT flows from green",
            "flows": [
            ]
        },
        "requestISRMDetections_ORANGE": {
            "name": "requestISRMDetections",
            "comment": "optional comment",
            "schema": "schema_requestISRMDetectionsn",
            "cle": "REQUESTISRMDETECTION_ORANGE",
            "flows": [
                {
                    "id": 2005,
                    "source": "MPX",
                    "destination": "ISRM"
                }
            ]
        },
        "requestISRMDetections_GREEN": {
            "name": "requestISRMDetections",
            "schema": "schema_requestISRMDetectionsn",
            "cle": "REQUESTISRMDETECTION_GREEN",
            "comment": "no requestISRMDections flows from green ",
            "flows": [
            ]
        },
        "groundMovers_GREEN": {
            "name": "groundMovers",
            "schema": "schema_groundMovers",
            "cle": "GROUNDMOVERS_GREEN",
            "comment": "optional comment",
            "flows": [
                {
                    "source": "ISRM",
                    "destination": "EOIR"
                }
            ]
        },
        "groundMovers_ORANGE": {
            "name": "groundMovers",
            "schema": "schema_groundMovers",
            "cle": "GROUNDMOVERS_GREEN",
            "comment": "no groundMovers flows from green",
            "flows": [
            ]
        },
        "receiveISRMDetections_GREEN": {
            "name": "recieveISRMDetections",
            "schema": "schema_receiveISRMDetectionsma",
            "cle": "RECEIVEISRMDECTION_GREEN",
            "comment": "optional comment",
            "flows": [
                {
                    "id": 3003,
                    "source": "ISRM",
                    "destination": "MPX"
                }
            ]
        },
        "receiveISRMDetections_ORANGE": {
            "name": "recieveISRMDetections",
            "schema": "schema_receiveISRMDetections",
            "cle": "RECEIVEISRMDECTION_ORANGE",
            "comment": "no recieveISRMDetections flows from orange",
            "flows": [
            ]
        },
        "updateMissionPlan_ORANGE": {
            "name": "updateMissionPlan",
            "schema": "schema_missionPlan",
            "cle": "UPDATEMISSIONPLAN_ORANGE",
            "comment": "optional comment",
            "flows": [
                {
                    "id": 1007,
                    "source": "MPU",
                    "destination": "EOIR"
                },
                {
                    "id": 1006,
                    "source": "MPU",
                    "destination": "ISRM"
                },
                {
                    "id": 1005,
                    "source": "MPU",
                    "destination": "MPX"
                },
                {
                    "id": 1008,
                    "source": "MPU",
                    "destination": "RDR"
                }
            ]
        },
        "updateMissionPlan_GREEN": {
            "name": "updateMissionPlan",
            "schema": "schema_missionPlan",
            "cle": "UPDATEMISSIONPLAN_GREEN",
            "comment": "no updateMissionPlan flows from green",
            "flows": [
            ]
        }          
    },
    "schemas":{
        "schema_heartbeats":{
            "$schema": "schema/component_heartbeats.schema"
        },
        "schema_missionPlan":{
            "$schema": "schema/updateMissionPlan.schema"
        },
        "schema_receiveISRMDetections":{
            "$schema": "schema/recieveISRMDetections.schema"
        },
        "schema_groundMovers":{
            "$schema": "schema/groundMovers.schema"
        },
        "schema_requestISRMDetectionsn":{
            "$schema": "schema/requestISRMDetections.schema"
        },
        "schema_pnt":{
            "$schema": "schema/pnt.schema"
        }
    },
    "samples":{
        "schema_heartbeats":{
            "ss": "MPU",
            "st": "ready"
        },
        "schema_missionPlan":{
        }
    },
    "cles":{
        "ORANGE_MPU": {
            "level": "orange",
            "cdf": [
                {
                }
            ]
        },
        "ORANGE_EOIR": {
            "level": "orange",
            "cdf": [
                {
                }
            ]        
        },
        "GREEN_ISRM": {
            "level": "green",
            "cdf": [
                {
                }
            ]        
         },
        "ORANGE_MPX": {
            "level": "orange",
            "cdf": [
                {
                }
            ]        
         },
        "ORANGE_RDR": {
            "level": "orange",
            "cdf": [
                {
                }
            ]        
         },
        "COMPONENT_HEARTBEATS_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "green",
                    "direction": "ingress",
                    "guarddirective":{ "oneway": true, "operation": "allow"},
                    "argtaints": [["TAG_REQUEST_ECHO_COMPONENT_HEARTBEATS"]],
                    "codtaints": ["ORANGE"],
                    "rettaints": []
                },
                {
                    "remotelevel": "orange",
                    "direction": "ingress",
                    "guarddirective":{ "oneway": true, "operation": "allow"},
                    "argtaints": [["TAG_REQUEST_ECHO_COMPONENT_HEARTBEATS"]],
                    "codtaints": ["ORANGE"],
                    "rettaints": []
                }                
            ]
        },
        "COMPONENT_HEARTBEATS_GREEN":{
            "level": "green",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "ingress",
                    "guarddirective":{ "oneway": true, "operation": "allow"},
                    "argtaints": [["TAG_REQUEST_ECHO_COMPONENT_HEARTBEATS"]],
                    "codtaints": ["GREEN"],
                    "rettaints": []
                }
            ]
        },
        "PNT_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "green",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                },
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }                
            ]
        },
        "PNT_GREEN":{
            "level": "green",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "reject"}
                }
            ]
        },
        "REQUESTISRMDETECTION_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "green",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "REQUESTISRMDETECTION_GREEN":{
            "level": "green",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "reject"}
                }
            ]
        },
        "GROUNDMOVERS_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "green",
                    "direction": "egress",
                    "guarddirective":{ "operation": "reject"}
                }
            ]
        },
        "GROUNDMOVERS_GREEN":{
            "level": "green",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "RECEIVEISRMDECTION_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "green",
                    "direction": "egress",
                    "guarddirective":{ "operation": "reject"}
                }
            ]
        },
        "RECEIVEISRMDECTION_GREEN":{
            "level": "green",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }
            ]
        },
        "UPDATEMISSIONPLAN_ORANGE":{
            "level": "orange",
            "cdf": [
                {
                    "remotelevel": "green",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                },
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "allow"}
                }                
            ]
        },
        "UPDATEMISSIONPLAN_GREEN":{
            "level": "green",
            "cdf": [
                {
                    "remotelevel": "orange",
                    "direction": "egress",
                    "guarddirective":{ "operation": "reject"}
                }
            ]
        }
    }
}
